<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>daymetr functionality • daymetr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous">
<!-- Fonts --><link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Titillium+Web:ital,wght@0,300;0,400;0,700;1,300;1,400&amp;display=swap" rel="stylesheet">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><!-- ropensci --><link href="../bglabs.css" rel="stylesheet">
<meta property="og:title" content="daymetr functionality">
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">

    <div class="navbar-header">

      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a class="external-link hidden-sm hidden-xs" href="https://bluegreenlabs.org">
          <img src="https://bluegreenlabs.org/img/logo_text_small.png" id="hexlogo" alt="bluegreen labs"></a>
        <a class="external-link hidden-md hidden-lg" href="https://bluegreenlabs.org">
          <img src="https://bluegreenlabs.org/img/logo.png" id="hexlogo" alt="bluegreen labs"></a>
        <a class="navbar-brand" href="../index.html">
           <i>daymetr <small>v1.7.1</small></i>
        </a>
      </div>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/daymetr-vignette.html">daymetr functionality</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
        <li>
  <a href="https://github.com/bluegreen-labs/daymetr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>daymetr functionality</h1>
                        <h4 data-toc-skip class="author">Koen
Hufkens</h4>
            
            <h4 data-toc-skip class="date">2025-03-29</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/bluegreen-labs/daymetr/blob/master/vignettes/daymetr-vignette.Rmd" class="external-link"><code>vignettes/daymetr-vignette.Rmd</code></a></small>
      <div class="hidden name"><code>daymetr-vignette.Rmd</code></div>

    </div>

    
    
<p>A programmatic interface to the <a href="https://daymet.ornl.gov" class="external-link">Daymet web services</a>. Allows for easy
downloads of Daymet climate data directly to your R workspace or your
computer. Routines for both single pixel data downloads and gridded
(netCDF) data are provided. Below you find a number of worked example on
mostly smaller datasets to illustrate the utility of the package.</p>
<div class="section level2">
<h2 id="downloading-single-pixel-data">Downloading single pixel data<a class="anchor" aria-label="anchor" href="#downloading-single-pixel-data"></a>
</h2>
<p>A common application of daymet data is the extraction of local
climate data, at a given location. This data will be extracted from a
pixel within the gridded daymet dataset corresponding to a location
provided in latitude / longitude format. You can download a dataset for
a single location using the following format:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/download_daymet.html">download_daymet</a></span><span class="op">(</span></span>
<span>  site <span class="op">=</span> <span class="st">"Oak Ridge National Laboratories"</span>,</span>
<span>  lat <span class="op">=</span> <span class="fl">36.0133</span>,</span>
<span>  lon <span class="op">=</span> <span class="op">-</span><span class="fl">84.2625</span>,</span>
<span>  start <span class="op">=</span> <span class="fl">2000</span>,</span>
<span>  end <span class="op">=</span> <span class="fl">2010</span>,</span>
<span>  internal <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  simplify <span class="op">=</span> <span class="cn">TRUE</span> <span class="co"># return tidy data !!</span></span>
<span>  <span class="op">)</span> </span></code></pre></div>
<p>With the <em>internal</em> parameter flag set to TRUE the data will
be exported as a nested list to your terminal or a variable if assigned.
If this parameter is set to FALSE the data will be written to a file on
disk in your current working directory (i.e. getwd()). If you want to
change the location where files are written to disk use the
<em>path</em> parameter. For a full list of parameters see the table
below.</p>
<p>There also is a batch mode which uses similar parameters but you
provide a comma separated file with site names and latitude longitude
which are sequentially downloaded. The format of the comma separated
file is as such: site name, latitude, longitude. This function is
helpful when downloading large number of locations. Once more if the
<strong>internal</strong> flag is set to true the data will be read in
as a nested list of lists.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># code is not run</span></span>
<span><span class="fu"><a href="../reference/download_daymet_batch.html">download_daymet_batch</a></span><span class="op">(</span></span>
<span>  file_location <span class="op">=</span> <span class="st">'my_sites.csv'</span>,</span>
<span>  start <span class="op">=</span> <span class="fl">1980</span>,</span>
<span>  end <span class="op">=</span> <span class="fl">2010</span>,</span>
<span>  internal <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="17%">
<col width="82%">
</colgroup>
<thead><tr class="header">
<th>Parameter</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>location</td>
<td>vector with a point location c(lat,lon) or top left / bottom right
pair c(lat,lon,lat,lon)</td>
</tr>
<tr class="even">
<td>tiles</td>
<td>vector with tile numbers if location point or top left / bottom
right pair is not provided</td>
</tr>
<tr class="odd">
<td>start</td>
<td>start year of the time series (data start in 1980)</td>
</tr>
<tr class="even">
<td>end</td>
<td>end year of the time series (current year - 2 years / for safety,
tweak this check to reflect the currently available data)</td>
</tr>
<tr class="odd">
<td>param</td>
<td>climate variable you want to download vapour pressure (vp), minimum
and maximum temperature (tmin,tmax), snow water equivalent (swe), solar
radiation (srad), precipitation (prcp) , day length (dayl). The default
setting is ALL, this will download all the previously mentioned climate
variables.</td>
</tr>
</tbody>
</table>
<p>If only the first set of coordinates is provided the tile in which
these reside is downloaded. If your region of interest falls outside the
scope of the DAYMET data coverage a warning is issued. If both top left
and bottom right coordinates are provided all tiles covering the region
of interst are downloaded. I would caution against downloading too much
data, as file sizes do add up. So be careful how you specify your region
of interest.</p>
<p>Data downloaded into the workspace, e.g. the <strong>df</strong> data
frame in the above example, resides in a nested list. In addition to the
climate data this list includes various meta-data parameters relevant to
the query made, and at times helpful in subsequent analysis.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span><span class="co">#&gt; tibble [28,105 × 9] (S3: tbl_df/tbl/data.frame)</span></span>
<span><span class="co">#&gt;  $ site       : chr [1:28105] "tmp" "tmp" "tmp" "tmp" ...</span></span>
<span><span class="co">#&gt;  $ tile       : num [1:28105] 11388 11388 11388 11388 11388 ...</span></span>
<span><span class="co">#&gt;  $ latitude   : num [1:28105] 36 36 36 36 36 ...</span></span>
<span><span class="co">#&gt;  $ longitude  : num [1:28105] -84.3 -84.3 -84.3 -84.3 -84.3 ...</span></span>
<span><span class="co">#&gt;  $ altitude   : num [1:28105] 279 279 279 279 279 279 279 279 279 279 ...</span></span>
<span><span class="co">#&gt;  $ year       : num [1:28105] 2000 2000 2000 2000 2000 2000 2000 2000 2000 2000 ...</span></span>
<span><span class="co">#&gt;  $ yday       : num [1:28105] 1 2 3 4 5 6 7 8 9 10 ...</span></span>
<span><span class="co">#&gt;  $ measurement: chr [1:28105] "dayl..s." "dayl..s." "dayl..s." "dayl..s." ...</span></span>
<span><span class="co">#&gt;  $ value      : num [1:28105] 34560 34560 34560 34560 34560 ...</span></span></code></pre></div>
<p>The package maintains the original data header names in order to
provide a transparent way of dealing with both data downloaded through
daymetr or directly from the Daymet website. You can access the climate
data using the df$data sub-list. An example of a plot of 10 years of
maximum temperature values is provided below.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># simple graph of Daymet data</span></span>
<span><span class="va">df</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">year</span>, <span class="va">yday</span>, sep <span class="op">=</span> <span class="st">"-"</span><span class="op">)</span>, <span class="st">"%Y-%j"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">measurement</span> <span class="op">==</span> <span class="st">"tmax..deg.c."</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">ggplot</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_line</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">date</span>, y <span class="op">=</span> <span class="va">value</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">facet_wrap</span><span class="op">(</span><span class="op">~</span> <span class="va">measurement</span>, ncol <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<p><img src="daymetr-vignette_files/figure-html/unnamed-chunk-5-1.png" width="672"></p>
<p>You can further summarize the data frame by year / month or day using
either the by(), aggregate() or tidyverse based mutate() or summarize()
operations. The code below (not run) uses the tidyverse (ddplyr) syntax
to calculate daily mean temperature values from the minimum and maximum
values provided by Daymet.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># code not run</span></span>
<span><span class="va">df</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">year</span>, <span class="va">yday</span>, sep <span class="op">=</span> <span class="st">"-"</span><span class="op">)</span>, <span class="st">"%Y-%j"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">date</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">measurement</span> <span class="op">==</span> <span class="st">"tmax..deg.c."</span> <span class="op">|</span> <span class="va">measurement</span> <span class="op">==</span> <span class="st">"tmin..deg.c."</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">summarize</span><span class="op">(</span>mean_temp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">value</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="gridded-data-downloads">Gridded data downloads<a class="anchor" aria-label="anchor" href="#gridded-data-downloads"></a>
</h2>
<p>For gridded data use either download_daymet_tiles() for individual
tiles or download_daymet_ncss() for a netCDF subset which is not bound
by tile limits (but restricted to a 6GB query size). Due to the
(default) larger size of tiled data I’ll demonstrate the use of the
gridded data with a smaller dataset of monthly averaged data subset for
a small (sub-tile sized) region. The below queries illustrate a variety
of ways on how to download tile based data and subsets of the available
data. You can query data based upon tile number, or a geographic
location and required climate variables. A full description of the
function parameter is provided in the table below.</p>
<table class="table">
<colgroup>
<col width="17%">
<col width="82%">
</colgroup>
<thead><tr class="header">
<th>Parameter</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>location</td>
<td>bounding box extent defined as top left / bottom right pair
c(lat,lon,lat,lon)</td>
</tr>
<tr class="even">
<td>start</td>
<td>start year of the time series (data start in 1980)</td>
</tr>
<tr class="odd">
<td>end</td>
<td>end year of the time series (current year - 2 years / for safety,
tweak this check to reflect the currently available data)</td>
</tr>
<tr class="even">
<td>frequency</td>
<td>what temporal time step to use (daily, monthly or annual)
<strong>only for NCSS subsets</strong>
</td>
</tr>
<tr class="odd">
<td>path</td>
<td>location where to store the downloaded gridded data</td>
</tr>
<tr class="even">
<td>silent</td>
<td>suppress download progress</td>
</tr>
<tr class="odd">
<td>param</td>
<td>climate variable you want to download vapour pressure (vp), minimum
and maximum temperature (tmin,tmax), snow water equivalent (swe), solar
radiation (srad), precipitation (prcp) , day length (dayl). The default
setting is ALL, this will download all the previously mentioned climate
variables.</td>
</tr>
</tbody>
</table>
<blockquote>
<p>For the netCDF data subsets keep in mind that the bounding box is
defined by the minimum (square) bounding box in a Lambert Conformal
Conic (LCC) projection as defined by the provided geographic
coordinates. In general the query area will be larger than the requested
location. For more information I refer to Daymet documentation (<a href="https://daymet.ornl.gov/web_services.html" class="external-link uri">https://daymet.ornl.gov/web_services.html</a>) on the web
service.</p>
</blockquote>
<p>The daymet package also includes spatial polygon data frame outlining
all the tiles in the Daymet repository (tile_outlines). This data can be
used to extract all relevant tiles for an analysis by calculating the
intersect between a geographic region of interest and this file.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># plot the tile outlines</span></span>
<span><span class="co"># roughly painting a picture of North America</span></span>
<span><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu">ggplot</span><span class="op">(</span><span class="va">tile_outlines</span><span class="op">)</span><span class="op">+</span> </span>
<span>  <span class="fu">geom_sf</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme_void</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">p</span><span class="op">)</span></span></code></pre></div>
<p><img src="daymetr-vignette_files/figure-html/unnamed-chunk-7-1.png" width="672"></p>
<div class="section level3">
<h3 id="querying-tiled-data">
<em>Querying tiled data</em><a class="anchor" aria-label="anchor" href="#querying-tiled-data"></a>
</h3>
<p>Below you will find some example of queries to the same tile (11207)
using both geographic coordinates as well as the tile number. In the
first function call <strong>ALL</strong> climate parameters are
requested, while in the second function call only the minimum
temperature (tmin) is queried.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># code not run</span></span>
<span></span>
<span><span class="co"># Download tiled data for multiple years (1980 - 2012)</span></span>
<span><span class="co"># based upon a geographic location.</span></span>
<span><span class="fu"><a href="../reference/download_daymet_tiles.html">download_daymet_tiles</a></span><span class="op">(</span>location <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">36.0133</span>,<span class="op">-</span><span class="fl">84.2625</span><span class="op">)</span>,</span>
<span>                      tiles <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                      start <span class="op">=</span> <span class="fl">1980</span>,</span>
<span>                      end <span class="op">=</span> <span class="fl">2012</span>,</span>
<span>                      param <span class="op">=</span> <span class="st">"ALL"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Download tiled data for multiple years (1980 - 2012)</span></span>
<span><span class="co"># based upon a tile number (11207) restricted to the</span></span>
<span><span class="co"># minimum temperature data only.</span></span>
<span><span class="fu"><a href="../reference/download_daymet_tiles.html">download_daymet_tiles</a></span><span class="op">(</span>tiles <span class="op">=</span> <span class="fl">11207</span>,</span>
<span>                      start <span class="op">=</span> <span class="fl">1980</span>,</span>
<span>                      end <span class="op">=</span> <span class="fl">2012</span>,</span>
<span>                      param <span class="op">=</span> <span class="st">"tmin"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="querying-netcdf-subset-ncss-data">
<em>Querying netCDF subset (ncss) data</em><a class="anchor" aria-label="anchor" href="#querying-netcdf-subset-ncss-data"></a>
</h3>
<p>Queries to the NCSS data follow a similar syntax as those for the
tiled data. However, you are restricted to using location based bounding
boxes to extract gridded data subsets. In addition to the daily data the
ncss subsets also include pre-processed summary values, e.g. mean
monthly minimum and maximum temperatures or total monthly
precipitation.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># download monthly</span></span>
<span><span class="fu"><a href="../reference/download_daymet_ncss.html">download_daymet_ncss</a></span><span class="op">(</span>location <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">34</span>, <span class="op">-</span><span class="fl">82</span>, <span class="fl">33.75</span>, <span class="op">-</span><span class="fl">81.75</span><span class="op">)</span>,</span>
<span>                     start <span class="op">=</span> <span class="fl">1980</span>,</span>
<span>                     end <span class="op">=</span> <span class="fl">1980</span>,</span>
<span>                     frequency <span class="op">=</span> <span class="st">"monthly"</span>,</span>
<span>                     param <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"tmin"</span>,<span class="st">"tmax"</span><span class="op">)</span>,</span>
<span>                     path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>                     silent <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># convert nc files to geotiff</span></span>
<span><span class="fu"><a href="../reference/nc2tif.html">nc2tif</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>The above figure shows nicely how you can query a small subset of the
Daymet data. However, a common climate variable, the mean temperature is
not provided. As such you may calculate these values using the
daymet_grid_tmean() function. This function calculates the mean
temperature for a given tile / or ncss subset provided that matching
minimum and maximum netCDF files can be found in the same directory.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># read in the demo data from the package for speed</span></span>
<span><span class="va">r</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/rast.html" class="external-link">rast</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span>package <span class="op">=</span> <span class="st">"daymetr"</span>,<span class="st">"extdata/tmin_monavg_1980_ncss.tif"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># set the correct projection</span></span>
<span><span class="va">r</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/project.html" class="external-link">project</a></span><span class="op">(</span></span>
<span>    <span class="va">r</span>,</span>
<span>    <span class="st">"+proj=lcc +lat_1=25 +lat_2=60 +lat_0=42.5 +lon_0=-100 +x_0=0 +y_0=0 +ellps=WGS84 +units=km +no_defs"</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">r</span><span class="op">)</span></span></code></pre></div>
<p><img src="daymetr-vignette_files/figure-html/unnamed-chunk-10-1.png" width="672"></p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># reproject to lat lon</span></span>
<span><span class="va">r</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/project.html" class="external-link">project</a></span><span class="op">(</span><span class="va">r</span>, <span class="st">"+init=epsg:4326"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># plot the monthly mean minimum temperature for 1980</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">r</span><span class="op">)</span></span></code></pre></div>
<p><img src="daymetr-vignette_files/figure-html/unnamed-chunk-10-2.png" width="672"></p>
<p>Below we search in the temporary directory of R for the downloaded
monthly minimum and maximum temperature ncss files for the year 1980
(see paramteres specified) and calculate the mean monthly temperature
for this year.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># plot the monthly mean minimum temperature for 1980</span></span>
<span><span class="va">r_tmean</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/daymet_grid_tmean.html">daymet_grid_tmean</a></span><span class="op">(</span></span>
<span>  path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span>package <span class="op">=</span> <span class="st">"daymetr"</span>,<span class="st">"extdata"</span><span class="op">)</span>,</span>
<span>  product <span class="op">=</span> <span class="st">"monavg"</span>,</span>
<span>  year <span class="op">=</span> <span class="fl">1980</span>,</span>
<span>  internal <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p>I hope the vignette provided you with an overview of the capabilities
of the daymetr package. Please report all bugs or feature requests on
the project’s github page. If you found the software useful in your work
please use the below reference to cite the package.</p>
</div>
</div>
<div class="section level2">
<h2 id="reference">Reference<a class="anchor" aria-label="anchor" href="#reference"></a>
</h2>
<p>Hufkens K., Basler J. D., Milliman T. Melaas E., Richardson A.D.
(2018) An integrated phenology modelling framework in R: Phenology
modelling with phenor. Methods in Ecology &amp; Evolution, 9:1-10.</p>
</div>
<div class="section level2">
<h2 id="acknowledgements">Acknowledgements<a class="anchor" aria-label="anchor" href="#acknowledgements"></a>
</h2>
<p>This project was is supported by the National Science Foundation’s
Macro-system Biology Program (awards EF-1065029 and EF-1702697).</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start bottom-8">
            <div class="col-xs-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="http://github.com/bluegreen-labs" target="_blank" class="external-link">
                          <div class="icon fab fa-github"></div></a>
                        <a href="https://bluegreenlabs.org/labs/" target="_blank" class="external-link">
                          <div class="icon fa fa-flask"></div></a>
                        <a href="http://twitter.com/bluegreen_labs" target="_blank" class="external-link">
                          <div class="icon fab fa-twitter"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">About</h5>
                            <li><a href="https://bluegreenlabs.org/#intro" class="external-link">BlueGreen Labs</a></li>
                            <li><a href="https://bluegreenlabs.org/#people" class="external-link">Our Team</a></li>
                            <li><a href="https://bluegreenlabs.org/#contact" class="external-link">Contact Us</a></li>
                        </ul>
</div>
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">Resources</h5>
                            <li><a href="https://github.com/bluegreen-labs" class="external-link">Packages</a></li>
                            <li><a href="https://bluegreenlabs.org/publication/" class="external-link">Publications</a></li>
                            <li><a href="https://bluegreenlabs.org/post/" class="external-link">Blog</a></li>
                        </ul>
</div>

                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->

      </footer>
</div>






  </body>
</html>
